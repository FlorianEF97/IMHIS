"use strict";(()=>{const e=document.querySelectorAll(".lang-btn"),t=document.querySelectorAll(".lang-de"),n=document.querySelectorAll(".lang-en"),a=document.querySelectorAll("[data-alt-en]"),o=document.querySelector(".nav-toggle");function s(s){if(document.documentElement.lang===s)return;const c="en"===s;document.documentElement.lang=s;for(const e of t)e.hidden=c;for(const e of n)e.hidden=!c;for(const t of e){const e=t.dataset.lang===s;t.setAttribute("aria-pressed",e)}if(o){const e=c?"En":"De",t=`label${o.classList.contains("open")?"Close":"Open"}${e}`,n=o.dataset[t];n&&o.setAttribute("aria-label",n)}for(const e of a){e.dataset.altDe||(e.dataset.altDe=e.getAttribute("alt")||"");const t=c?e.dataset.altEn:e.dataset.altDe;e.setAttribute("alt",t)}try{localStorage.setItem("lang",s)}catch{}window.dispatchEvent(new Event("imhis-language-change"))}document.addEventListener("click",e=>{const t=e.target.closest(".lang-btn");t&&s(t.dataset.lang)},{passive:!0}),s(function(){try{const e=localStorage.getItem("lang");if("de"===e||"en"===e)return e}catch{}return navigator.language?.startsWith("en")?"en":"de"}())})(),(()=>{const e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-links");if(e&&t){function n(t){const n="en"===document.documentElement.lang?"En":"De",a=t?`labelClose${n}`:`labelOpen${n}`,o=e.dataset[a];o&&e.setAttribute("aria-label",o)}let a;const o=window.matchMedia("(min-width: 768px)");function s(){t.classList.remove("open"),t.hidden=!o.matches,e.classList.remove("open"),e.setAttribute("aria-expanded","false"),n(!1),a?.abort(),a=null}function c(){t.hidden=!1,t.classList.add("open"),e.classList.add("open"),e.setAttribute("aria-expanded","true"),n(!0),a=new AbortController,document.addEventListener("click",l,{signal:a.signal,passive:!0}),document.addEventListener("keydown",d,{signal:a.signal})}function r(){t.classList.contains("open")?s():c()}function l(n){t.contains(n.target)||e.contains(n.target)||s()}function d(e){"Escape"===e.key&&s()}function i(e){s(),t.hidden=!e.matches}i(o),o.addEventListener("change",i),e.addEventListener("click",r),n(!1),t.addEventListener("click",e=>{e.target.closest("a")&&s()})}})(),(()=>{const e=document.getElementById("toggle-sellers"),t=document.getElementById("seller-list");if(e&&t){const n=()=>{const n=t.classList.toggle("open");return e.setAttribute("aria-expanded",n),t.hidden=!n,n},a=a=>{!t.classList.contains("open")||t.contains(a.target)||e.contains(a.target)||n()},o=e=>{"Escape"===e.key&&t.classList.contains("open")&&n()};let s;e.addEventListener("click",()=>{n()?(s=new AbortController,document.addEventListener("click",a,{signal:s.signal,passive:!0}),document.addEventListener("keydown",o,{signal:s.signal})):(s?.abort(),s=null)})}})(),(()=>{function e(){!function(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),n=[];for(;t.nextNode();){const e=t.currentNode,a=e.parentElement;a&&"SCRIPT"!==a.tagName&&"STYLE"!==a.tagName&&"STRONG"!==a.tagName&&n.push(e)}for(const e of n){const t=e.nodeValue;if(t.includes("IMHIS")){const n=t.split("IMHIS"),a=document.createDocumentFragment();for(let e=0;e<n.length;e++)if(n[e]&&a.appendChild(document.createTextNode(n[e])),e<n.length-1){const e=document.createElement("strong");e.textContent="IMHIS",a.appendChild(e)}e.parentNode.replaceChild(a,e)}}}(document.body)}document.addEventListener("DOMContentLoaded",e),window.addEventListener("imhis-language-change",e)})();
(()=>{const e=document.documentElement;let t;const n=()=>{const t=document.querySelector(".site-header")||document.querySelector("header");if(!t)return;const n=Math.ceil(t.getBoundingClientRect().height);n&&e.style.setProperty("--nav-height",`${n}px`)};const a=()=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(n)};window.addEventListener("resize",a,{passive:!0}),window.addEventListener("load",a),window.addEventListener("imhis-language-change",a),document.addEventListener("DOMContentLoaded",()=>{a();const e=document.querySelector(".site-header")||document.querySelector("header");if(e&&"ResizeObserver"in window){const t=new ResizeObserver(a);t.observe(e)}}),a()})();