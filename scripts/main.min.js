"use strict";(()=>{const e=document.querySelectorAll(".lang-btn"),t=document.querySelectorAll(".lang-de"),n=document.querySelectorAll(".lang-en"),a=document.querySelectorAll("[data-alt-en]"),s=document.querySelector(".nav-toggle");function l(l){const o="en"===l;if(document.documentElement.lang=l,t.forEach(e=>{e.hidden=o}),n.forEach(e=>{e.hidden=!o}),e.forEach(e=>{const t=e.dataset.lang===l;e.setAttribute("aria-pressed",t)}),s){const e=o?"En":"De",t=`label${s.classList.contains("open")?"Close":"Open"}${e}`,n=s.dataset[t];n&&s.setAttribute("aria-label",n)}a.forEach(e=>{e.dataset.altDe||(e.dataset.altDe=e.getAttribute("alt")||"");const t=o?e.dataset.altEn:e.dataset.altDe;e.setAttribute("alt",t)});try{localStorage.setItem("lang",l)}catch{}window.dispatchEvent(new Event("imhis-language-change"))}document.addEventListener("click",e=>{const t=e.target.closest(".lang-btn");t&&l(t.dataset.lang)}),l(function(){try{const e=localStorage.getItem("lang");if("de"===e||"en"===e)return e}catch{}return navigator.language?.startsWith("en")?"en":"de"}())})(),(()=>{const e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-links");if(e&&t){function n(t){const n="en"===document.documentElement.lang?"En":"De",a=t?`labelClose${n}`:`labelOpen${n}`,s=e.dataset[a];s&&e.setAttribute("aria-label",s)}let a;function s(){const s=t.classList.toggle("open");t.hidden=!s,e.setAttribute("aria-expanded",s),e.classList.toggle("open",s),n(s),s?(a=new AbortController,document.addEventListener("click",l,{signal:a.signal}),document.addEventListener("keydown",o,{signal:a.signal})):(a?.abort(),a=null)}function l(n){t.contains(n.target)||e.contains(n.target)||s()}function o(e){"Escape"===e.key&&s()}const c=window.matchMedia("(min-width: 768px)");function i(n){n.matches?(t.hidden=!1,t.classList.remove("open"),e.classList.remove("open"),e.setAttribute("aria-expanded","false"),a?.abort(),a=null):(t.hidden=!0,t.classList.remove("open"),e.classList.remove("open"),e.setAttribute("aria-expanded","false"),a?.abort(),a=null)}i(c),c.addEventListener("change",i),e.addEventListener("click",s),n(!1),t.addEventListener("click",e=>{e.target.matches("a")&&t.classList.contains("open")&&s()})}})(),(()=>{const e=document.getElementById("toggle-sellers"),t=document.getElementById("seller-list");if(e&&t){const n=()=>{const n=t.classList.toggle("open");return e.setAttribute("aria-expanded",n),t.hidden=!n,n},a=a=>{!t.classList.contains("open")||t.contains(a.target)||e.contains(a.target)||n()},s=e=>{"Escape"===e.key&&t.classList.contains("open")&&n()};let l;e.addEventListener("click",()=>{n()?(l=new AbortController,document.addEventListener("click",a,{signal:l.signal}),document.addEventListener("keydown",s,{signal:l.signal})):(l?.abort(),l=null)})}})();